# y3-lualib

è¿™æ˜¯Y3ç¼–è¾‘å™¨çš„Luaå¼€å‘æ¡†æ¶ï¼Œæ—¨åœ¨å¸®åŠ© **çº¯Luaå¼€å‘è€…** æ›´å¥½çš„å¼€å‘åœ°å›¾ã€‚
æœ¬é¡¹ç›®å¸Œæœ›å¯ä»¥å’Œå¹¿å¤§ç”¨æˆ·å…±åŒå¼€å‘æ­¤æ¡†æ¶ï¼Œå› æ­¤å¸Œæœ›å¤§å®¶å¯ä»¥ç§¯ææå‡ºå»ºè®®ï¼ŒåŒ…æ‹¬æ¡†æ¶è®¾è®¡ä¹Ÿå¯ä»¥æå‡ºè‡ªå·±çš„æƒ³æ³•ä¸€èµ·è®¨è®ºã€‚

# å¿«é€Ÿå¼€å§‹

ä½¿ç”¨Y3ç¼–è¾‘å™¨åˆ›å»ºä¸€å¼ åœ°å›¾ï¼Œç„¶åå°†åœ°å›¾å†…çš„ `script/y3` ç›®å½•æ›¿æ¢ä¸ºæ­¤å·¥ç¨‹å³å¯

> ä¸ºäº†æ–¹ä¾¿ç¼–ç¨‹ï¼Œä½ å¯ä»¥åŒå‡»è¿è¡Œä¸€ä¸‹ `script/y3/åˆå§‹åŒ–é…ç½®.bat`ï¼Œä»–å¯ä»¥å¸®ä½ é…ç½®æ’ä»¶ç¯å¢ƒä¸è°ƒè¯•å™¨

# Q&A

### è¯¥æ¡†æ¶çš„ä»£ç ä¸â€œECAè½¬Luaâ€çš„ä»£ç æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ

ç»å¤§éƒ¨åˆ†çš„æ¥å£ä¼šä¿æŒå…¼å®¹ï¼Œä½†æ˜¯å¯¹äºçº¯Luaä½œè€…æ¥è¯´ï¼Œå¾ˆå¤šåŠŸèƒ½æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ã€‚æ¯”å¦‚ECAä¸­çš„åŠ¨ä½œâ€œå°†æ•´æ•°åŠ ä¸€â€åœ¨â€œECAè½¬Luaâ€æ—¶ä¼šç”Ÿæˆå‡½æ•°è°ƒç”¨ï¼Œä½†åœ¨æ­¤æ¡†æ¶ä¸­è¯¥å‡½æ•°è¢«ç§»é™¤äº†ã€‚
è€Œè§¦å‘å™¨ã€äº‹ä»¶ç­‰åŠŸèƒ½ä¹Ÿä¼šå’ŒECAä¸­çš„æœ‰è¾ƒå¤§å·®å¼‚ï¼Œåˆ©ç”¨Luaçš„è¯­è¨€ç‰¹æ€§ä½¿ç”¨äº†æ›´åŠ æ–¹ä¾¿Luaå¼€å‘çš„å½¢å¼ã€‚

### æˆ‘çœ‹å¾ˆå¤šå‡½æ•°éƒ½æ˜¯ç®€å•çš„è½¬å‘ï¼Œæ˜¯å¦å¯ä»¥ç›´æ¥è°ƒç”¨CAPIï¼Ÿ

å°½é‡ä¸è¦ç›´æ¥è°ƒç”¨ã€‚å› ä¸ºç›®å‰å·²ç»æœ‰è®¡åˆ’ä¿®æ”¹CAPIï¼Œç›´æ¥è°ƒç”¨CAPIå¯èƒ½ä¼šåœ¨æœªæ¥äº§ç”Ÿå…¼å®¹æ€§é—®é¢˜ã€‚

### ECAä¸LuaååŒå¼€å‘æ—¶ï¼ŒECAå¦‚ä½•è°ƒç”¨Luaå‡½æ•°ï¼Ÿ

ECAå¯ä»¥ç›´æ¥æ‰§è¡ŒLuaä»£ç ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒ[æ­¤ä»£ç ](./æ¼”ç¤º/ECAè°ƒç”¨Luaå‡½æ•°.lua)æ³¨å†Œä¸€ä¸ªç»‘å®šå‡½æ•°ä¾›ECAè°ƒç”¨ã€‚

# ä½¿ç”¨VSCodeè¿›è¡Œé™„åŠ è°ƒè¯•

1. VSCodeåœ¨æ‰©å±•å¸‚åœºä¸­æœç´¢å®‰è£…æ’ä»¶ `actboy168.lua-debug`ã€‚
2. å°† `script/y3/æ¼”ç¤º/é¡¹ç›®é…ç½®/launch.json` å¤åˆ¶åˆ° `script/.vscode/launch.json`ã€‚
3. å¯åŠ¨æ¸¸æˆåï¼Œç‚¹å‡» `F5` å¼€å§‹è°ƒè¯•ã€‚

> é€šå¸¸è°ƒè¯•å™¨é™„åŠ æˆåŠŸæ—¶å·²ç»é”™è¿‡äº†æ¸¸æˆåˆå§‹åŒ–æ—¶æœºï¼Œå¦‚æœä½ æƒ³è¦è¿½è¸ªåˆå§‹åŒ–ç›¸å…³çš„ä»£ç ï¼Œå¯ä»¥åœ¨ç›¸å…³ä»£ç å‰é¢åŠ ä¸€è¡Œ `LDBG:event 'wait'`ã€‚å½“æ¸¸æˆæ‰§è¡Œåˆ°æ­¤è¡Œä»£ç æ—¶ï¼Œæ¸¸æˆä¼šâ€œå¡ä¸»â€ï¼Œç›´åˆ°è°ƒè¯•å™¨é™„åŠ å®Œæˆæ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚

### å·²çŸ¥é—®é¢˜

* æ— æ³•è§¦å‘å¼‚å¸¸æ–­ç‚¹ã€‚
* æ— æ³•è¿½è¸ªä¸€äº›å†…éƒ¨å‡½æ•°çš„æ‰§è¡Œã€‚

# å·¥ç¨‹ç»“æ„

<pre>

ğŸ“¦ y3/
    â”œâ”€â”€ ğŸ“ <span title="æ¼”ç¤ºä»£ç ">æ¼”ç¤º/</span>
    â”œâ”€â”€ ğŸ“ <span title="æ¸¸æˆåŠŸèƒ½ç›¸å…³çš„å®ç°">game/</span>
    â”‚    â”œâ”€â”€ ğŸ“œ <span title="å®šä¹‰å¸¸é‡ä¸æšä¸¾">const.lua</span>
    â”‚    â”œâ”€â”€ ğŸ“œ <span title="å®ç°æ¸¸æˆåŠŸèƒ½çš„æ¥å£">game.lua</span>
    â”‚    â”œâ”€â”€ ğŸ“œ <span title="ä¸€äº›å¸¸ç”¨èƒ¶æ°´åŠŸèƒ½">helper.lua</span>
    â”‚    â”œâ”€â”€ ğŸ“œ <span title="è½¬æ¢å¼•æ“å¯¹è±¡ä¸Luaå¯¹è±¡">py_converter.lua</span>
    â”‚    â”œâ”€â”€ ğŸ“œ <span title="ç»‘å®šå¼•æ“äº‹ä»¶ç³»ç»Ÿä¸Luaäº‹ä»¶ç³»ç»Ÿ">py_event_subscribe.lua</span>
    â”œâ”€â”€ ğŸ“‚ <span title="å¼•æ“çš„APIå…ƒæ–‡ä»¶">meta/</span>
    â”œâ”€â”€ ğŸ“‚ <span title="Luaå¯¹è±¡å®ç°">object/</span>
    â”‚    â”œâ”€â”€ ğŸ“ <span title="åœ¨ç‰©ç¼–ä¸­å¯ç¼–è¾‘çš„å¯¹è±¡ï¼ˆä»…ä½œä¸ºåˆ†ç±»ï¼‰">editable_object/</span>
    â”‚    â”œâ”€â”€ ğŸ“ <span title="è¿è¡Œæ—¶æ‰æœ‰çš„æŠ½è±¡å¯¹è±¡ï¼ˆä»…ä½œä¸ºåˆ†ç±»ï¼‰">runtime_object/</span>
    â”‚    â”œâ”€â”€ ğŸ“ <span title="åœ¨åœºæ™¯ä¸­å¯æ”¾ç½®çš„å¯¹è±¡ï¼ˆä»…ä½œä¸ºåˆ†ç±»ï¼‰">scene_object/</span>
    â”œâ”€â”€ ğŸ“‚ <span title="ä¸€äº›é€šç”¨çš„Luaå·¥å…·">tools/</span>
    â”œâ”€â”€ ğŸ“‚ <span title="åŸºäºæ­¤æ¸¸æˆå¼•æ“çš„å·¥å…·">tools/</span>
    â”œâ”€â”€ ğŸ“œ <span title="è°ƒè¯•å™¨é…ç½®">debugger.lua</span>
    â””â”€â”€ ğŸ“œ <span title="Y3åº“çš„å…¥å£">init.lua</span>

</pre>

# æƒ³è¦åšçš„äº‹æƒ…

è§ [å¼€å‘è®¡åˆ’](./å¼€å‘è®¡åˆ’.md)

# è´¡çŒ®è€…

![GitHub Contributors Image](https://contrib.rocks/image?repo=y3-editor/y3-lualib)
